"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485:(C,d,i)=>{i.r(d),i.d(d,{LoginPageModule:()=>L});var p=i(177),g=i(4341),a=i(791),m=i(70),c=i(467),o=i(3953),f=i(3656),h=i(369),v=i(3067);const F=[{path:"",component:(()=>{var e;class s{constructor(n,t,l,r,M){this.navCtrl=n,this.toastController=t,this.animationController=l,this.storage=r,this.loginService=M,this.initStorage()}initStorage(){var n=this;return(0,c.A)(function*(){yield n.storage.create()})()}login(){var n=this;return(0,c.A)(function*(){if(n.usuario&&n.contrasena){const t=yield n.loginService.autenticarUsuario(n.usuario,n.contrasena);t?(yield n.mostrarMensajeToast("Login exitoso","success"),yield n.storage.set("usuarioAutenticado",t),n.navCtrl.navigateForward("/home",{queryParams:{name:t.usuario}})):yield n.mostrarMensajeToast("Login err\xf3neo. Verifica tus credenciales.","danger")}else yield n.mostrarMensajeToast("Por favor, completa todos los campos.","danger")})()}mostrarMensajeToast(n,t){var l=this;return(0,c.A)(function*(){(yield l.toastController.create({duration:3e3,message:n,position:"bottom",color:t})).present()})()}ngAfterViewInit(){this.animacionLogo()}animacionLogo(){const n=document.querySelector(".logo");n&&this.animationController.create().addElement(n).duration(1e3).fromTo("transform","translateX(-100px)","translateX(0px)").fromTo("opacity","0","1").play()}goToRegister(){this.navCtrl.navigateForward("/register")}goToResetPassword(){this.navCtrl.navigateForward("/reset-password")}}return(e=s).\u0275fac=function(n){return new(n||e)(o.rXU(f.q9),o.rXU(a.K_),o.rXU(a.Hx),o.rXU(h.w),o.rXU(v.H))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-login"]],decls:33,vars:2,consts:[[1,"ion-padding"],[1,"logo-container"],[1,"logo"],["id","logo",1,"logo-icono"],["name","car-sport-outline"],[1,"logo-texto"],[1,"logo-tellevo"],[1,"logo-app"],[3,"ngSubmit"],["position","floating"],["type","text","name","usuario","required","",3,"ngModelChange","ngModel"],["type","password","name","contrasena","required","",3,"ngModelChange","ngModel"],["expand","block","type","submit"],["expand","block","color","light",3,"click"],[1,"center"],["expand","block","type","submit",3,"click"]],template:function(n,t){1&n&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"Inicio de sesi\xf3n"),o.k0s()()(),o.j41(4,"ion-content",0)(5,"div",1)(6,"div",2)(7,"span",3),o.nrm(8,"ion-icon",4),o.k0s(),o.j41(9,"div",5)(10,"span",6),o.EFF(11,"TeLlevo"),o.k0s(),o.j41(12,"span",7),o.EFF(13,"APP"),o.k0s()()()(),o.j41(14,"form",8),o.bIt("ngSubmit",function(){return t.login()}),o.j41(15,"ion-item")(16,"ion-label",9),o.EFF(17,"Nombre de usuario"),o.k0s(),o.j41(18,"ion-input",10),o.mxI("ngModelChange",function(r){return o.DH7(t.usuario,r)||(t.usuario=r),r}),o.k0s()(),o.j41(19,"ion-item")(20,"ion-label",9),o.EFF(21,"Contrase\xf1a"),o.k0s(),o.j41(22,"ion-input",11),o.mxI("ngModelChange",function(r){return o.DH7(t.contrasena,r)||(t.contrasena=r),r}),o.k0s()(),o.j41(23,"ion-button",12),o.EFF(24,"Ingresar"),o.k0s()(),o.j41(25,"ion-button",13),o.bIt("click",function(){return t.goToResetPassword()}),o.EFF(26,"Restablecer contrase\xf1a"),o.k0s(),o.nrm(27,"br"),o.j41(28,"div",14)(29,"ion-label"),o.EFF(30,"\xbfNo est\xe1s registrado?"),o.k0s()(),o.j41(31,"ion-button",15),o.bIt("click",function(){return t.goToRegister()}),o.EFF(32,"Crear cuenta"),o.k0s()()),2&n&&(o.R7$(18),o.R50("ngModel",t.usuario),o.R7$(4),o.R50("ngModel",t.contrasena))},dependencies:[g.qT,g.BC,g.cb,g.YS,g.vS,g.cV,a.Jm,a.W9,a.eU,a.iq,a.$w,a.uz,a.he,a.BC,a.ai,a.Gw]}),s})()}];let P=(()=>{var e;class s{}return(e=s).\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[m.iI.forChild(F),m.iI]}),s})(),L=(()=>{var e;class s{}return(e=s).\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[p.MD,g.YN,a.bv,P]}),s})()}}]);