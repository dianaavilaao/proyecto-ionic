"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4890],{4890:(C,_,c)=>{c.r(_),c.d(_,{ProfilePageModule:()=>V});var g=c(177),s=c(4341),r=c(791),m=c(70),u=c(467),h=c(2450),e=c(3953),f=c(3656),p=c(3067);function P(t,a){if(1&t){const o=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(){e.eBV(o);const n=e.XpG(2);return e.Njj(n.dismissEditModal())}),e.EFF(4,"Cancelar"),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6,"Editar datos del usuario"),e.k0s()()(),e.j41(7,"ion-content",3)(8,"form",7),e.bIt("ngSubmit",function(){e.eBV(o);const n=e.XpG(2);return e.Njj(n.confirmEditModal())}),e.j41(9,"ion-item")(10,"ion-label",8),e.EFF(11,"Nombre"),e.k0s(),e.j41(12,"ion-input",9),e.mxI("ngModelChange",function(n){e.eBV(o);const l=e.XpG(2);return e.DH7(l.usuario.usuario,n)||(l.usuario.usuario=n),e.Njj(n)}),e.k0s()(),e.j41(13,"ion-item")(14,"ion-label",8),e.EFF(15,"Email"),e.k0s(),e.j41(16,"ion-input",10),e.mxI("ngModelChange",function(n){e.eBV(o);const l=e.XpG(2);return e.DH7(l.usuario.email,n)||(l.usuario.email=n),e.Njj(n)}),e.k0s()(),e.j41(17,"ion-item")(18,"ion-label",8),e.EFF(19,"Tel\xe9fono"),e.k0s(),e.j41(20,"ion-input",11),e.mxI("ngModelChange",function(n){e.eBV(o);const l=e.XpG(2);return e.DH7(l.usuario.telefono,n)||(l.usuario.telefono=n),e.Njj(n)}),e.k0s()(),e.j41(21,"ion-button",12),e.EFF(22,"Guardar cambios"),e.k0s()()()}if(2&t){const o=e.XpG(2);e.R7$(12),e.R50("ngModel",o.usuario.usuario),e.R7$(4),e.R50("ngModel",o.usuario.email),e.R7$(4),e.R50("ngModel",o.usuario.telefono)}}function j(t,a){if(1&t&&(e.j41(0,"ion-card-content")(1,"ion-item")(2,"ion-label"),e.EFF(3,"Nombre:"),e.k0s(),e.j41(4,"ion-text"),e.EFF(5),e.k0s()(),e.j41(6,"ion-item")(7,"ion-label"),e.EFF(8,"Email:"),e.k0s(),e.j41(9,"ion-text"),e.EFF(10),e.k0s()(),e.j41(11,"ion-item")(12,"ion-label"),e.EFF(13,"Tel\xe9fono:"),e.k0s(),e.j41(14,"ion-text"),e.EFF(15),e.k0s()(),e.j41(16,"ion-button",5),e.EFF(17,"Editar"),e.k0s(),e.j41(18,"ion-modal",6),e.DNE(19,P,23,3,"ng-template"),e.k0s()()),2&t){const o=e.XpG();e.R7$(5),e.JRh(o.usuario.usuario),e.R7$(5),e.JRh(o.usuario.email),e.R7$(5),e.JRh(o.usuario.telefono)}}function F(t,a){1&t&&(e.j41(0,"ion-card-content")(1,"p"),e.EFF(2,"No se encontraron datos del usuario."),e.k0s()())}function E(t,a){if(1&t){const o=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(){e.eBV(o);const n=e.XpG(2);return e.Njj(n.dismissEditVehicleModal())}),e.EFF(4,"Cancelar"),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6,"Editar veh\xedculo"),e.k0s()()(),e.j41(7,"ion-content",3)(8,"form",7),e.bIt("ngSubmit",function(){e.eBV(o);const n=e.XpG(2);return e.Njj(n.editVehicle())}),e.j41(9,"ion-item")(10,"ion-label",8),e.EFF(11,"Marca"),e.k0s(),e.j41(12,"ion-input",15),e.mxI("ngModelChange",function(n){e.eBV(o);const l=e.XpG(2);return e.DH7(l.editingVehicle.marca,n)||(l.editingVehicle.marca=n),e.Njj(n)}),e.k0s()(),e.j41(13,"ion-item")(14,"ion-label",8),e.EFF(15,"Modelo"),e.k0s(),e.j41(16,"ion-input",16),e.mxI("ngModelChange",function(n){e.eBV(o);const l=e.XpG(2);return e.DH7(l.editingVehicle.modelo,n)||(l.editingVehicle.modelo=n),e.Njj(n)}),e.k0s()(),e.j41(17,"ion-item")(18,"ion-label",8),e.EFF(19,"Patente"),e.k0s(),e.j41(20,"ion-input",17),e.mxI("ngModelChange",function(n){e.eBV(o);const l=e.XpG(2);return e.DH7(l.editingVehicle.patente,n)||(l.editingVehicle.patente=n),e.Njj(n)}),e.k0s()(),e.j41(21,"ion-item")(22,"ion-label",8),e.EFF(23,"Color"),e.k0s(),e.j41(24,"ion-input",18),e.mxI("ngModelChange",function(n){e.eBV(o);const l=e.XpG(2);return e.DH7(l.editingVehicle.color,n)||(l.editingVehicle.color=n),e.Njj(n)}),e.k0s()(),e.j41(25,"ion-button",12),e.EFF(26,"Guardar cambios"),e.k0s()()()}if(2&t){const o=e.XpG(2);e.R7$(12),e.R50("ngModel",o.editingVehicle.marca),e.R7$(4),e.R50("ngModel",o.editingVehicle.modelo),e.R7$(4),e.R50("ngModel",o.editingVehicle.patente),e.R7$(4),e.R50("ngModel",o.editingVehicle.color)}}function M(t,a){if(1&t){const o=e.RV6();e.j41(0,"ion-card-content")(1,"ion-item")(2,"ion-label"),e.EFF(3,"Marca:"),e.k0s(),e.j41(4,"ion-text"),e.EFF(5),e.k0s()(),e.j41(6,"ion-item")(7,"ion-label"),e.EFF(8,"Modelo:"),e.k0s(),e.j41(9,"ion-text"),e.EFF(10),e.k0s()(),e.j41(11,"ion-item")(12,"ion-label"),e.EFF(13,"Patente:"),e.k0s(),e.j41(14,"ion-text"),e.EFF(15),e.k0s()(),e.j41(16,"ion-item")(17,"ion-label"),e.EFF(18,"Color:"),e.k0s(),e.j41(19,"ion-text"),e.EFF(20),e.k0s()(),e.j41(21,"ion-button",13),e.bIt("click",function(){e.eBV(o);const n=e.XpG();return e.Njj(n.deleteVehicle())}),e.EFF(22,"Eliminar veh\xedculo"),e.k0s(),e.j41(23,"ion-modal",14),e.DNE(24,E,27,4,"ng-template"),e.k0s()()}if(2&t){const o=e.XpG();e.R7$(5),e.JRh(o.vehiculo.marca),e.R7$(5),e.JRh(o.vehiculo.modelo),e.R7$(5),e.JRh(o.vehiculo.patente),e.R7$(5),e.JRh(o.vehiculo.color)}}function b(t,a){1&t&&(e.j41(0,"ion-card-content")(1,"p"),e.EFF(2,"No tienes ning\xfan veh\xedculo registrado."),e.k0s()())}const k=[{path:"",component:(()=>{var t;class a{constructor(i,n,l,d,x){this.navCtrl=i,this.navController=n,this.modalController=l,this.loginService=d,this.alertController=x,this.usuario=null,this.vehiculos=[],this.nuevoVehiculo=new h.o("","","","",4,0),this.vehiculo=null,this.editingVehicle=new h.o("","","","",4,0)}ngOnInit(){var i=this;return(0,u.A)(function*(){i.cargarDatosUsuario(),i.usuario=yield i.loginService.obtenerUsuarioAutenticado(),i.usuario&&(i.vehiculo=yield i.loginService.obtenerVehiculoUsuario(i.usuario.usuario))})()}cargarDatosUsuario(){var i=this;return(0,u.A)(function*(){i.usuario=yield i.loginService.obtenerUsuarioAutenticado(),i.usuario&&(i.vehiculos=i.usuario.vehiculos)})()}volver(){this.navController.back()}confirmEditModal(){var i=this;return(0,u.A)(function*(){var l;yield(yield i.alertController.create({header:"Confirmar cambios",message:"\xbfEst\xe1s seguro de que quieres guardar los cambios en tu perfil?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Aceptar",handler:(l=(0,u.A)(function*(){i.usuario&&(yield i.loginService.actualizarUsuarioAutenticado(i.usuario),i.modal.dismiss(i.usuario,"confirm"),yield i.cargarDatosUsuario(),i.navController.navigateBack("/profile"))}),function(){return l.apply(this,arguments)})}]})).present()})()}dismissEditModal(){this.modal.dismiss(null,"cancel")}agregarVehicle(){var i=this;return(0,u.A)(function*(){i.usuario&&(yield i.loginService.guardarVehiculo(i.usuario.usuario,i.nuevoVehiculo),i.vehiculo=i.nuevoVehiculo,i.dismissAddVehicleModal(),yield i.ngOnInit())})()}deleteVehicle(){var i=this;return(0,u.A)(function*(){var l;yield(yield i.alertController.create({header:"Eliminar veh\xedculo",message:"\xbfEst\xe1s seguro de que quieres eliminar este veh\xedculo?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",role:"destructive",handler:(l=(0,u.A)(function*(){i.usuario&&(yield i.loginService.eliminarVehiculo(i.usuario.usuario),i.vehiculo=null,yield i.ngOnInit())}),function(){return l.apply(this,arguments)})}]})).present()})()}dismissAddVehicleModal(){this.modal.dismiss(null,"cancel"),this.navController.navigateBack("/profile")}editVehicle(){var i=this;return(0,u.A)(function*(){i.usuario&&i.editingVehicle&&(yield i.loginService.editarVehiculo(i.usuario.usuario,i.editingVehicle),i.vehiculo=i.editingVehicle,i.dismissEditVehicleModal(),yield i.ngOnInit())})()}dismissEditVehicleModal(){this.modal.dismiss(null,"cancel")}}return(t=a).\u0275fac=function(i){return new(i||t)(e.rXU(f.q9),e.rXU(f.q9),e.rXU(r.W3),e.rXU(p.H),e.rXU(r.hG))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-profile"]],viewQuery:function(i,n){if(1&i&&e.GBs(r.Sb,5),2&i){let l;e.mGM(l=e.lsd())&&(n.modal=l.first)}},decls:20,vars:4,consts:[["slot","start"],[3,"click"],["name","arrow-back-outline"],[1,"ion-padding"],[4,"ngIf"],["id","open-edit-user-modal","expand","block"],["trigger","open-edit-user-modal"],[3,"ngSubmit"],["position","floating"],["type","text","name","name","required","",3,"ngModelChange","ngModel"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","text","name","phone","required","",3,"ngModelChange","ngModel"],["expand","block","type","submit"],["color","danger","expand","block",3,"click"],["trigger","open-edit-vehicle-modal"],["type","text","name","marca","required","",3,"ngModelChange","ngModel"],["type","text","name","modelo","required","",3,"ngModelChange","ngModel"],["type","text","name","patente","required","",3,"ngModelChange","ngModel"],["type","text","name","color","required","",3,"ngModelChange","ngModel"]],template:function(i,n){1&i&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(){return n.volver()}),e.nrm(4,"ion-icon",2),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6,"Perfil de Usuario"),e.k0s()()(),e.j41(7,"ion-content",3)(8,"ion-card")(9,"ion-card-header")(10,"ion-card-title"),e.EFF(11,"Datos del Usuario"),e.k0s()(),e.DNE(12,j,20,3,"ion-card-content",4)(13,F,3,0,"ion-card-content",4),e.k0s(),e.j41(14,"ion-card")(15,"ion-card-header")(16,"ion-card-title"),e.EFF(17,"Veh\xedculo registrado"),e.k0s()(),e.DNE(18,M,25,4,"ion-card-content",4)(19,b,3,0,"ion-card-content",4),e.k0s()()),2&i&&(e.R7$(12),e.Y8G("ngIf",n.usuario),e.R7$(),e.Y8G("ngIf",!n.usuario),e.R7$(5),e.Y8G("ngIf",n.vehiculo),e.R7$(),e.Y8G("ngIf",!n.vehiculo))},dependencies:[g.bT,s.qT,s.BC,s.cb,s.YS,s.vS,s.cV,r.Jm,r.QW,r.b_,r.I9,r.ME,r.tN,r.W9,r.eU,r.iq,r.$w,r.uz,r.he,r.IO,r.BC,r.ai,r.Sb,r.Gw]}),a})()}];let v=(()=>{var t;class a{}return(t=a).\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[m.iI.forChild(k),m.iI]}),a})(),V=(()=>{var t;class a{}return(t=a).\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[g.MD,s.YN,r.bv,v]}),a})()}}]);