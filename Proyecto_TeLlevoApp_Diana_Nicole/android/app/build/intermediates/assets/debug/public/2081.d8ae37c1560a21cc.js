"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2081],{2081:(j,d,r)=>{r.r(d),r.d(d,{ResetPasswordPageModule:()=>w});var g=r(177),l=r(4341),s=r(791),m=r(70),c=r(467),e=r(3953),f=r(3656),P=r(3067);function C(a,i){if(1&a){const n=e.RV6();e.j41(0,"form",5),e.bIt("ngSubmit",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.verificarUsuario())}),e.j41(1,"ion-item")(2,"ion-label",6),e.EFF(3,"Nombre de usuario"),e.k0s(),e.j41(4,"ion-input",7),e.mxI("ngModelChange",function(t){e.eBV(n);const u=e.XpG();return e.DH7(u.usuario,t)||(u.usuario=t),e.Njj(t)}),e.k0s()(),e.j41(5,"ion-button",8),e.EFF(6,"VERIFICAR USUARIO"),e.k0s()()}if(2&a){const n=e.XpG();e.R7$(4),e.R50("ngModel",n.usuario)}}function R(a,i){if(1&a){const n=e.RV6();e.j41(0,"form",5),e.bIt("ngSubmit",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.actualizarContrasena())}),e.j41(1,"ion-item")(2,"ion-label",6),e.EFF(3,"Nueva contrase\xf1a"),e.k0s(),e.j41(4,"ion-input",9),e.mxI("ngModelChange",function(t){e.eBV(n);const u=e.XpG();return e.DH7(u.nuevaContrasena,t)||(u.nuevaContrasena=t),e.Njj(t)}),e.k0s()(),e.j41(5,"ion-button",8),e.EFF(6,"ACTUALIZAR CONTRASE\xd1A"),e.k0s()()}if(2&a){const n=e.XpG();e.R7$(4),e.R50("ngModel",n.nuevaContrasena)}}const v=[{path:"",component:(()=>{var a;class i{constructor(o,t,u,p){this.navCtrl=o,this.toastController=t,this.loginService=u,this.navController=p,this.mostrarCampoContrasena=!1}verificarUsuario(){var o=this;return(0,c.A)(function*(){(yield o.loginService.buscarUsuario(o.usuario))?(o.presentToast("Usuario encontrado. Ingresa una nueva contrase\xf1a.","success"),o.mostrarCampoContrasena=!0):(o.presentToast("Error: Usuario no encontrado","danger"),o.mostrarCampoContrasena=!1)})()}actualizarContrasena(){var o=this;return(0,c.A)(function*(){o.nuevaContrasena?(yield o.loginService.actualizarContrasena(o.usuario,o.nuevaContrasena))?(o.presentToast("Contrase\xf1a actualizada con \xe9xito","success"),o.navCtrl.navigateBack("/login")):o.presentToast("Error al actualizar la contrase\xf1a","danger"):o.presentToast("Por favor ingresa una nueva contrase\xf1a","warning")})()}presentToast(o,t){var u=this;return(0,c.A)(function*(){(yield u.toastController.create({message:o,duration:2e3,color:t})).present()})()}volver(){this.navController.back()}}return(a=i).\u0275fac=function(o){return new(o||a)(e.rXU(f.q9),e.rXU(s.K_),e.rXU(P.H),e.rXU(f.q9))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-reset-password"]],decls:10,vars:2,consts:[["slot","start"],[3,"click"],["name","arrow-back-outline"],[1,"ion-padding"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],["position","floating"],["type","text","name","usuario","required","",3,"ngModelChange","ngModel"],["expand","block","type","submit"],["type","password","name","nuevaContrasena","required","",3,"ngModelChange","ngModel"]],template:function(o,t){1&o&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(){return t.volver()}),e.nrm(4,"ion-icon",2),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6,"Restablecer contrase\xf1a"),e.k0s()()(),e.j41(7,"ion-content",3),e.DNE(8,C,7,1,"form",4)(9,R,7,1,"form",4),e.k0s()),2&o&&(e.R7$(8),e.Y8G("ngIf",!t.mostrarCampoContrasena),e.R7$(),e.Y8G("ngIf",t.mostrarCampoContrasena))},dependencies:[g.bT,l.qT,l.BC,l.cb,l.YS,l.vS,l.cV,s.Jm,s.QW,s.W9,s.eU,s.iq,s.$w,s.uz,s.he,s.BC,s.ai,s.Gw]}),i})()}];let h=(()=>{var a;class i{}return(a=i).\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[m.iI.forChild(v),m.iI]}),i})(),w=(()=>{var a;class i{}return(a=i).\u0275fac=function(o){return new(o||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[g.MD,l.YN,s.bv,h]}),i})()}}]);