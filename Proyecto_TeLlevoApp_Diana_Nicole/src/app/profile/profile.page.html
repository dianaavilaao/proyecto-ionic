<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="volver()">
        <ion-icon name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Perfil de Usuario</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-card>
    <ion-card-header>
      <ion-card-title>Datos del Usuario</ion-card-title>
    </ion-card-header>

    <ion-card-content *ngIf="usuario">
      <ion-item>
        <ion-label>Nombre:</ion-label>
        <ion-text>{{ usuario.usuario }}</ion-text>
      </ion-item>
      <ion-item>
        <ion-label>Email:</ion-label>
        <ion-text>{{ usuario.email }}</ion-text>
      </ion-item>
      <ion-item>
        <ion-label>Teléfono:</ion-label>
        <ion-text>{{ usuario.telefono }}</ion-text>
      </ion-item>
      <ion-button id="open-edit-user-modal" expand="block">Editar</ion-button>

      <ion-modal trigger="open-edit-user-modal">
        <ng-template>
          <ion-header>
            <ion-toolbar>
              <ion-buttons slot="start">
                <ion-button (click)="dismissEditModal()">Cancelar</ion-button>
              </ion-buttons>
              <ion-title>Editar datos del usuario</ion-title>
            </ion-toolbar>
          </ion-header>
          <ion-content class="ion-padding">
            <form (ngSubmit)="confirmEditModal()">
              <ion-item>
                <ion-label position="floating">Nombre</ion-label>
                <ion-input type="text" [(ngModel)]="usuario.usuario" name="name" required></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Email</ion-label>
                <ion-input type="email" [(ngModel)]="usuario.email" name="email" required></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Teléfono</ion-label>
                <ion-input type="text" [(ngModel)]="usuario.telefono" name="phone" required></ion-input>
              </ion-item>

              <ion-button expand="block" type="submit">Guardar cambios</ion-button>
            </form>
          </ion-content>
        </ng-template>
      </ion-modal>
    </ion-card-content>

    <ion-card-content *ngIf="!usuario">
      <p>No se encontraron datos del usuario.</p>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title>Vehículo registrado</ion-card-title>
    </ion-card-header>
  
    <ion-card-content *ngIf="vehiculo">
      <ion-item>
        <ion-label>Marca:</ion-label>
        <ion-text>{{ vehiculo.marca }}</ion-text>
      </ion-item>
      <ion-item>
        <ion-label>Modelo:</ion-label>
        <ion-text>{{ vehiculo.modelo }}</ion-text>
      </ion-item>
      <ion-item>
        <ion-label>Patente:</ion-label>
        <ion-text>{{ vehiculo.patente }}</ion-text>
      </ion-item>
      <ion-item>
        <ion-label>Color:</ion-label>
        <ion-text>{{ vehiculo.color }}</ion-text>
      </ion-item>
      <ion-button color="danger" (click)="deleteVehicle()">Eliminar vehículo</ion-button>
      <ion-button id="open-edit-vehicle-modal" expand="block">Editar vehículo</ion-button>
<ion-modal trigger="open-edit-vehicle-modal">
  <ng-template>
    <ion-header>
      <ion-toolbar>
        <ion-buttons slot="start">
          <ion-button (click)="dismissEditVehicleModal()">Cancelar</ion-button>
        </ion-buttons>
        <ion-title>Editar vehículo</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <form (ngSubmit)="editVehicle()">
        <ion-item>
          <ion-label position="floating">Marca</ion-label>
          <ion-input type="text" [(ngModel)]="editingVehicle.marca" name="marca" required></ion-input>
        </ion-item>
    
        <ion-item>
          <ion-label position="floating">Modelo</ion-label>
          <ion-input type="text" [(ngModel)]="editingVehicle.modelo" name="modelo" required></ion-input>
        </ion-item>
    
        <ion-item>
          <ion-label position="floating">Patente</ion-label>
          <ion-input type="text" [(ngModel)]="editingVehicle.patente" name="patente" required></ion-input>
        </ion-item>
    
        <ion-item>
          <ion-label position="floating">Color</ion-label>
          <ion-input type="text" [(ngModel)]="editingVehicle.color" name="color" required></ion-input>
        </ion-item>
    
        <ion-button expand="block" type="submit">Guardar cambios</ion-button>
      </form>
    </ion-content>
  </ng-template>
</ion-modal>
    </ion-card-content>
  
    <ion-card-content *ngIf="!vehiculo">
      <p>No tienes ningún vehículo registrado.</p>
      <ion-button id="open-add-vehicle-modal" expand="block">Agregar vehículo</ion-button>
    </ion-card-content>
  </ion-card>
  
</ion-content>
